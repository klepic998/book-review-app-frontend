<div class="container">
    <h1 class="mt-3">Create New Book</h1>
  
    <a href="#" routerLink="/book/index" class="btn btn-primary mb-3 mt-3">Back</a>
        
    <form [formGroup]="form" (ngSubmit)="submit()">
  
        <div class="form-group">
            <label for="title">Title:</label>
            <input 
                formControlName="title"
                id="title" 
                type="text" 
                class="form-control">
            <div *ngIf="f['title'].touched && f['title'].invalid" class="alert alert-danger">
                <div *ngIf="f['title'].errors && f['title'].errors['required']">Title is required.</div>
            </div>
        </div>
  
        <div class="form-group">
            <label for="author">Author</label>
            <input 
                formControlName="author"
                id="author" 
                type="text" 
                class="form-control">
            <div *ngIf="f['author'].touched && f['author'].invalid" class="alert alert-danger">
                <div *ngIf="f['author'].errors && f['author'].errors['required']">Author is required.</div>
            </div>
        </div>

        <div class="form-group">
            <label for="description">Description:</label>
            <input 
                formControlName="description"
                id="description" 
                type="text" 
                class="form-control">
            <div *ngIf="f['description'].touched && f['description'].invalid" class="alert alert-danger">
                <div *ngIf="f['description'].errors && f['description'].errors['required']">Description is required.</div>
            </div>
        </div>
  
        <div class="form-group">
            <label for="image">Image</label>
            <input 
                formControlName="image"
                id="image" 
                type="file" 
                class="form-control"
                (change)="onFileChange($event)">
            <div *ngIf="f['image'].touched && f['image'].invalid" class="alert alert-danger">
                <div *ngIf="f['image'].errors && f['image'].errors['required']">Image is required.</div>
            </div>
        </div>
        <img [src]="imageSrc" *ngIf="imageSrc" style="height: 300px; width:500px">

        <div class="form-group">
            <label for="review">Review:</label>
            <input 
                formControlName="review"
                id="review" 
                type="text" 
                class="form-control">
            <div *ngIf="f['review'].touched && f['review'].invalid" class="alert alert-danger">
                <div *ngIf="f['review'].errors && f['review'].errors['required']">Review is required.</div>
            </div>
        </div>
  
        <div class="form-group">
            <label for="published_at">Publishing date</label>
            <input 
                formControlName="published_at"
                id="published_at" 
                type="date" 
                class="form-control">
            <div *ngIf="f['published_at'].touched && f['published_at'].invalid" class="alert alert-danger">
                <div *ngIf="f['published_at'].errors && f['published_at'].errors['required']">Publishing date is required.</div>
            </div>
        </div>

        <div class="form-group">
            <label for="grade">Grade</label>
            <input 
                formControlName="grade"
                id="grade" 
                type="number" min ="1" max="10" 
                class="form-control">
            <div *ngIf="f['grade'].touched && f['grade'].invalid" class="alert alert-danger">
                <div *ngIf="f['grade'].errors && f['grade'].errors['required']">Grade is required.</div>
            </div>
        </div>
  
  
        <button class="btn btn-primary mt-3" type="submit" [disabled]="!form.valid">Submit</button>
    </form>
</div>